## 本webserver 《基于游双所著 Linux高性能服务器编程》所写

# 目录结构

-     code
  
  - http  //http解析状态机
  
  - log  //日志系统相关
  
  - mysql  //数据库相关
  
  - root    //服务器资源相关
  
  - timer  //定时器相关
  
  - webserver  //服务类相关

- main   //主循环

- threadpool.h //线程池

- locker.h   //信号量、互斥锁、条件变量封装相关

   

## 半同步/半反应堆模式   模拟preactor模式

    主线程异步接受客户端请求，使用epoll进行监听。 

    工作线程池处理客户请求并执行IO操作，对新增的请求采用信号量与队列进行控制

    用户登录操作使用到了数据库，工作线程分配数据库池中数据库资源，数据库资源使用了RAII机制封装，实现自动回收

    采用了日志记录输入输出情况，使用一个单独线程对日志内容进行记录，异步记录

    定时器采用了时间堆的方式，定时每一个客户链接，超时释放

    http采用状态机解析各个请求字段



## 启动配置

    1.mian函数中根据注释写好默认参数

    2.创建数据库需要字段 user  passwd

    3. make

    4../server

        

        


